<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{% static 'core/css/bootstrap.min.css' %}">
    {% comment %} <link rel="shortcut icon" href="{% static "core/images/favicon/favicon.ico" %}" type="image/x-icon"> {% endcomment %}
    <link rel="shortcut icon" href="{% static 'core/images/favicon/favicon.svg' %}" type="image/x-icon">
    <link rel="stylesheet" href="{% static 'core/css/style.css' %}">
    <link rel="stylesheet" href="{% static 'account/css/style.css' %}">
    <title>{% block title %}{% endblock title %} - Innovestra Tech Enterprises</title>
</head>
<body>
    {% include "core/header.html" %}
    {% block content %}{% endblock content %}
    {% include "core/footer.html" %}
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- SweetAlert2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="{% static 'core/js/main.js' %}"></script>
    <script src="{% static 'account/js/main.js' %}"></script>

   {% if messages %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        {% for message in messages %}
            // Normalize message tags to valid SweetAlert2 icons
            let icon = '{{ message.tags }}';
            if (icon.includes('success')) icon = 'success';
            else if (icon.includes('error') || icon.includes('danger')) icon = 'error';
            else if (icon.includes('warning')) icon = 'warning';
            else if (icon.includes('info')) icon = 'info';
            else icon = 'question';

            // Show toast
            Swal.fire({
                icon: icon,
                title: (icon.charAt(0).toUpperCase() + icon.slice(1)),
                text: '{{ message|escapejs }}',
                toast: true,
                position: 'bottom-end',
                showConfirmButton: false,
                timer: 4000,
                timerProgressBar: true,
                background: '#fff',
                color: '#000',
                customClass: {
                    popup: 'colored-toast'
                },
                didOpen: (toast) => {
                    toast.addEventListener('mouseenter', Swal.stopTimer)
                    toast.addEventListener('mouseleave', Swal.resumeTimer)
                }
            });
        {% endfor %}
    });
</script>
{% endif %}

</body>
</html>